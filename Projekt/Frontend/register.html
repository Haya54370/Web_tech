<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Create Account — Booking System</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

<style>

body{
  font-family:'Poppins',sans-serif;
  background:linear-gradient(135deg,#C74B9F,#8241C2);
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  padding:25px;
}

/* WHITE REGISTER CARD */
.card-box{
  background:white;
  border-radius:22px;
  padding:45px;
  max-width:520px;
  width:100%;
  box-shadow:0 35px 95px rgba(0,0,0,.25);
}

/* TITLE */
h2{
  font-weight:700;
}

/* INPUT STYLE */
.form-control{
  padding:13px;
  border-radius:14px;
}

/* BUTTON */
.btn-main{
  width:100%;
  padding:13px;
  border-radius:14px;
  background:#8241C2;
  color:white;
  border:none;
  font-weight:600;
}

.btn-main:hover{
  background:#6d2fb4;
}

/* LINK */
a{
  color:#8241C2;
  font-weight:600;
  text-decoration:none;
}

.alert{
  border-radius:14px;
}

</style>
</head>

<body>

<div class="card-box">

  <h2>Create your account</h2>
  <p class="text-muted mb-4">
    Join us & manage your appointments easily.
  </p>

  <div id="msg"></div>

  <div class="mb-3">
    <label class="form-label">Full Name</label>
    <input id="name" class="form-control" placeholder="John Smith">
  </div>

  <div class="mb-3">
    <label class="form-label">Email</label>
    <input id="email" type="email" class="form-control" placeholder="you@mail.com">
  </div>

  <div class="mb-4">
    <label class="form-label">Password</label>
    <input id="password" type="password" class="form-control" placeholder="••••••••">
  </div>

  <button class="btn-main" onclick="register()">
    Create Account
  </button>

  <p class="text-center mt-3 mb-0">
    Already have an account?
    <a href="login.html">Login</a>
  </p>

</div>

<script>
const API_BASE = "https://web-tech-5s0d.onrender.com";

function show(type,text){
  document.getElementById("msg").innerHTML =
  `<div class="alert alert-${type}">${text}</div>`;
}

async function register(){

  const name=document.getElementById("name").value.trim();
  const email=document.getElementById("email").value.trim();
  const password=document.getElementById("password").value.trim();

  if(!name||!email||!password)
    return show("danger","Please fill all fields.");

  try{
    const res=await fetch(`${API_BASE}/api/register`,{
      method:"POST",
      headers:{"Content-Type":"application/json"},
      body:JSON.stringify({name,email,password})
    });

    const data=await res.json();

    if((data.message||"").includes("✅")){
      show("success",data.message);
      setTimeout(()=>location.href="login.html",900);
    }else{
      show("danger",data.message||"Registration failed.");
    }
  }
  catch{
    show("danger","Server connection failed.");
  }
}
</script>

</body>
</html>
